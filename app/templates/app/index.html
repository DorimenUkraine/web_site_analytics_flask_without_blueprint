{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block body %}
    <form action="" class="form-signin" method="POST">

    <div class="text-center mb-4">
        <a href="{{ url_for('signup') }}"><img class="mb-4" src="{{ url_for('static', filename='img/analytics_machine.svg') }}" alt="Analytics Machine" width="72" height="72"></a>
        <h1 class="h3 mb-3 font-weight-normal">Analytics Machine</h1>
        <p>Пожалуйста, авторизируйтесь!</p>
    </div>

    {{ form.hidden_tag() }}

    {% for field in form if field.name not in ['csrf_token', 'remember', 'submit'] %}

    <div class="form-label-group">
        {% if field.errors %}
            {{ field(class="form-control invalid") }}
            <span class="invalid-feedback d-block">
                {% for e in field.errors %}
                {{ e }}
                {% endfor %}
            </span>
        {% else %}
            {{ field(class="form-control") }}
        {% endif %}
    </div>

    {% endfor %}

    <div class="checkbox mb-3">
        <label>
        {{ form.remember() }} {{ form.remember.label() }}
        </label>
    </div>

    {{ form.submit(class="btn btn-lg btn-primary btn-block") }}
{#    <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>#}
    <div class="form-label-group">
        {% for cat, msg in get_flashed_messages(True) %}
            <div class="flash {{ cat }}">{{ msg }}</div>
        {% endfor %}
    </div>
    <p class="mt-5 mb-3 text-muted text-center">&copy; 2017-2020</p>
    </form>

{% endblock %}